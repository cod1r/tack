(library
 (name limitless)
 (ocamlopt_flags -cclib -lSDL2 -cclib -lSDL2_ttf -ccopt -L/opt/homebrew/lib)
 (ocamlc_flags -cclib -lSDL2 -cclib -lSDL2_ttf -ccopt -L/opt/homebrew/lib)
 (foreign_archives stubs))

(data_only_dirs stubs)

(rule
 (deps (source_tree stubs))
 (targets libstubs.a)
 (action
 (no-infer
  (progn
   (chdir stubs (run make))
   (copy stubs/libstubs.a libstubs.a)))))
